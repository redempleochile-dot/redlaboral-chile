<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel de Control | Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-light">
    <div class="d-flex">
        <div class="bg-dark text-white p-3" style="min-height: 100vh; width: 250px;"><h4 class="mb-4">âš¡ AdminPanel</h4><ul class="nav flex-column gap-2"><li class="nav-item"><a href="/" class="nav-link text-white bg-secondary rounded">ğŸ  Ver Sitio Web</a></li><li class="nav-item"><a href="/admin/" class="nav-link text-white-50">ğŸ› ï¸ Django Admin</a></li><li class="nav-item"><a href="/logout/" class="nav-link text-danger">ğŸšª Salir</a></li></ul></div>
        <div class="p-4 flex-grow-1">
            <h2 class="fw-bold mb-4">Resumen General</h2>
            <div class="row mb-4">
                <div class="col-md-4"><div class="card shadow-sm border-start border-primary border-5"><div class="card-body"><h5 class="text-muted small">TOTAL OFERTAS</h5><h2 class="fw-bold">{{ kpi_ofertas }}</h2></div></div></div>
                <div class="col-md-4"><div class="card shadow-sm border-start border-success border-5"><div class="card-body"><h5 class="text-muted small">CANDIDATOS</h5><h2 class="fw-bold">{{ kpi_candidatos }}</h2></div></div></div>
                <div class="col-md-4"><div class="card shadow-sm border-start border-warning border-5"><div class="card-body"><h5 class="text-muted small">USUARIOS</h5><h2 class="fw-bold">{{ kpi_usuarios }}</h2></div></div></div>
            </div>
            <div class="row"><div class="col-md-8"><div class="card shadow-sm p-3"><h5 class="mb-3">ğŸ“ Ofertas por RegiÃ³n</h5><canvas id="chartRegion"></canvas></div></div><div class="col-md-4"><div class="card shadow-sm p-3"><h5 class="mb-3">ğŸ“Š Estado de Ofertas</h5><canvas id="chartEstado"></canvas></div></div></div>
        </div>
    </div>
    <script>
        new Chart(document.getElementById('chartRegion'), { type: 'bar', data: { labels: {{ labels_reg|safe }}, datasets: [{ label: '# de Ofertas', data: {{ data_reg|safe }}, backgroundColor: '#0d6efd' }] } });
        new Chart(document.getElementById('chartEstado'), { type: 'doughnut', data: { labels: ['Publicadas', 'Pendientes'], datasets: [{ data: {{ data_pie|safe }}, backgroundColor: ['#198754', '#ffc107'] }] } });
    </script>
</body>
</html>